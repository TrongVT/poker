_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"Gmp/":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return P}));var o=t("ODXe"),r=t("q1tI"),a=t.n(r),c=t("nOHt"),i=t("KLul"),s=t("aWea"),l=t("GuNu"),u=t("okHz"),d=t("PceL"),p=t("vOnD"),m=a.a.createElement,f=function(e){var n=e.children,t=e.className;return m("div",{className:"".concat(t," card-list-component")},n)};f.defaultProps={children:[],className:""};var b=f,v=Object(p.c)(b).withConfig({displayName:"styled-card-list-component",componentId:"sc-smkqtj-0"})(["display:flex;justify-content:center;flex-wrap:wrap;margin:0;padding:0;list-style:none;"]),h=a.a.createElement,g=function(e){var n=e.className,t=e.children,o=e.onClick;return h("div",{className:"".concat(n," card-list-item"),onClick:o},t)};g.defaultProps={className:"",onClick:function(){}};var y=g,k=t("rqZI"),w=t.n(k),O=Object(p.c)(y).withConfig({displayName:"styled-card-list-item-component",componentId:"sc-180t3rp-0"})(["width:140px;height:200px;display:flex;align-items:center;justify-content:center;border-radius:8px;font-weight:300;font-size:2.3rem;cursor:pointer;transition:all 0.3s;background-color:",";border:5px solid ",";box-shadow:0 5px 10px 5px rgba(0,0,0,.25);flex-direction:column;justify-content:center;padding:0 20px;&:hover{color:#1f754b;background-color:#39f197;border-color:#87ffc4;box-shadow:0px 10px 20px 10px rgba(0,0,0,.5);span{color:#1e774c;}}span{color:",";}small{font-size:0.8rem;display:flex;font-weight:400;text-align:center;}"," "," "," ",""],w.a.primaryText,w.a.primaryLight,w.a.primaryTextDark,(function(e){return e.error&&"\n    background-color: ".concat(w.a.error,";\n    border-color: ").concat(w.a.errorLight,";\n\n    span {\n      color: ").concat(w.a.errorText,";\n    }\n  ")}),(function(e){return e.disabled&&"\n    background-color: #38384c;\n    border-color: #47475f;\n    pointer-events: none;\n\n    span {\n      color: #1d1d27;\n    }\n\n    small {\n      color: #1d1d28;\n    }\n  "}),(function(e){var n=e.revealed,t=e.selected;return(n||t)&&"\n    background-color: ".concat(w.a.greyLighter,";\n    border-color: ").concat(w.a.white,";\n    pointer-events: none;\n\n    &:hover {\n      background-color: ").concat(w.a.greyLighter,";\n      border-color: ").concat(w.a.white,";\n    }\n\n    span {\n      color: ").concat(w.a.greyDarker,";\n    }\n  ")}),(function(e){return e.readOnly&&"\n    pointer-events: none;\n  "})),j=t("HlVv"),x=a.a.createElement,_=function(e){var n=e.className,t=e.room,o=e.guestsVoted,c=e.hostVoted,i=e.clearVotes,s=e.isHost,u=e.startSession,d=e.sessionStarted,p=Object(r.useState)(""),m=p[0],f=p[1],b=Object(l.b)(),h="".concat("https://portal.feavn.com.vn:5003","/join?id=").concat(t.id),g=Object(r.useCallback)((function(e){var n=t.guests.find((function(n){return n.id===e})).vote;return void 0===n?null:n}),[t.guests]),y=Object(r.useCallback)((function(e){var n=e.id,o=e.name;window.confirm('Do you really want to kick "'.concat(o,'" out?'))&&b.emit("kickGuestOut",{roomId:t.id,guestId:n})}),[b,t.id]),k=o&&c;return x("div",{className:"".concat(n," component-host-view")},s&&x("p",null,"Hi"," ",t.host.name,", b\u1ea1n l\xe0 ch\u1ee7. S\u1eed d\u1ee5ng li\xean k\u1ebft n\xe0y \u0111\u1ec3 m\u1eddi nh\u1eefng ng\u01b0\u1eddi kh\xe1c:",x("a",{href:h,target:"_blank",rel:"noreferrer"},h)),x("div",{className:"component-host-view__cards"},x(v,null,x("div",{className:"component-host-view__card-wrap"},x(O,{disabled:!o,revealed:k,readOnly:!0},x("span",null,t.host.vote?t.host.vote:"?"),!c&&x("small",null,"Wait until all guests voted")),x("span",null,t.host.name)),t.guests.map((function(e){var n=e.id,t=e.name,o=e.vote,r=void 0===o?"?":o;return x("div",{className:"component-host-view__card-wrap",key:n},x(O,{disabled:!d||!g(n),revealed:k,readOnly:!0},x("span",null,k?r:"?")),s?x("button",{className:"kick-guest-button",onClick:function(){return y({id:n,name:t})},type:"button"},"+"):null,x("span",null,t))})))),s&&!d&&!!t.guests.length&&x(j.a,{onClick:u,className:"component-host-view__button component-host-view__button--start"},"Start session"),k&&s&&x(a.a.Fragment,null,x(j.a,{onClick:i,className:"component-host-view__button component-host-view__button-reset"},"X\xf3a phi\u1ebfu b\u1ea7u"),x(a.a.Fragment,null," "),x(j.a,{onClick:function(){var e=t.guests.map((function(e){return e.vote})),n={};e.forEach((function(e){n[e]=(n[e]||0)+1})),f(JSON.stringify(n))},className:"component-host-view__button component-host-view__button-reset"},"T\u1ed5ng k\u1ebft"),x("hr",null),x("p",null,"K\u1ebft qu\u1ea3: ",m)))};_.defaultProps={room:{}};var N=_,C=Object(p.c)(N).withConfig({displayName:"styled-host-view-component",componentId:"sc-1dbk9jg-0"})([".component-host-view__button{display:inline-block;width:auto;margin-top:16px;}.component-host-view__cards{display:flex;justify-content:center;}.component-host-view__card-wrap{padding:8px;text-align:center;position:relative;&:hover{.kick-guest-button{display:flex;&:hover,&:active{background-color:#ccc;}}}}.card-list-item{margin:0 0 10px 0;}.kick-guest-button{display:none;transform:rotate(45deg);font-size:20px;position:absolute;align-items:center;justify-content:center;cursor:pointer;line-height:0;top:0;right:0;width:22px;height:22px;background:#ddd;border-radius:10px;border:none;border-radius:100%;}"]),S={fibonacci:["1","2","3","5","8","13","21","34","?","\u2615"],tShirtSize:["XS","S","M","L","XL","","?","\u2615"],Assessment122022:["Mon","Ernesta","Keely","Leo","Sop","Dante","Shin","\u2615"]},I=a.a.createElement,E=function(e){var n=e.className,t=e.room,o=e.vote,r=e.votedValue,a=e.sessionStarted;return I("div",{className:"component-guest-view ".concat(n)},a?I(v,null,S[t.cardsMode].map((function(e){return I("div",{className:"component-guest-view__card-wrap",key:e},I(O,{selected:r&&e&&r===e,onClick:function(){return o(e)}},I("span",null,e)))}))):I("p",null,"Ch\u1edd m\xe1y ch\u1ee7 b\u1eaft \u0111\u1ea7u phi\xean."))};E.defaultProps={room:{},votedValue:null};var L=E,V=Object(p.c)(L).withConfig({displayName:"styled-guest-view-component",componentId:"sc-mom5e1-0"})([".component-guest-view__card-wrap{padding:8px;position:relative;}.card-list-item{margin:0 0 10px 0;}"]),z=a.a.createElement;function P(e){var n=e.className,t=Object(c.useRouter)(),a=Object(l.b)(),p=Object(s.b)(),m=Object(o.a)(p,2),f=m[0].room,b=void 0===f?{}:f,v=m[1],h=Object(r.useState)(!1),g=h[0],y=h[1],k=Object(r.useState)(!1),w=k[0],O=k[1],j=Object(r.useState)(!1),x=j[0],_=j[1],N=Object(r.useState)(null),S=N[0],I=N[1],E=Object(r.useState)(!1),L=E[0],P=E[1],T=Object(r.useCallback)((function(e){v(Object(i.a)(e))}),[v]),D=Object(r.useCallback)((function(e){alert(e),t.replace("/unexisting-room",{reason:e})}),[t]),A=Object(r.useCallback)((function(e){L||P(!1),v(Object(i.a)(e))}),[v,L]),H=Object(r.useCallback)((function(e){e.guests.every((function(e){return!!e.vote}))&&O(!0)}),[]),X=Object(r.useCallback)((function(e){e.host.vote&&_(!0)}),[]),q=Object(r.useCallback)((function(e){H(e),X(e),v(Object(i.a)(e))}),[v,H,X]),J=Object(r.useCallback)((function(e){O(!1),_(!1),I(null),v(Object(i.a)(e))}),[v]),K=Object(r.useCallback)((function(e){var n=e.guestId,o=e.room;a&&a.id===n?t.replace("/kicked-out"):(H(o),X(o),T(o))}),[t,a,T,H,X]),M=Object(r.useCallback)((function(){a&&!g&&(a.on("unexistingRoom",(function(){return D("The room does no longer exist")})),a.on("guestJoined",A),a.on("guestLeft",T),a.on("hostLeft",(function(){return D("The host has ended the session")})),a.on("voted",q),a.on("votesCleared",J),a.on("sessionStarted",(function(){return P(!0)})),a.on("guestKickedOut",K),y(!0))}),[a,q,J,D,g,A,T,K]),R=Object(r.useCallback)((function(e){I(e),a.emit("vote",{roomId:b.id,value:e})}),[a,b.id]),G=Object(r.useCallback)((function(){a.emit("clearVotes",b.id)}),[a,b.id]),F=Object(r.useCallback)((function(){a.emit("startSession",b.id)}),[a,b]);Object(r.useEffect)((function(){b.id?a&&!g&&M():t.push("/")}),[a,t,b.id,M,g]);var W=Object(r.useMemo)((function(){if(!a||!b.id)return null;var e=a.id===b.host.id,n=z(V,{room:b,vote:R,votedValue:S,sessionStarted:L}),t=z(C,{room:b,guestsVoted:w,hostVoted:x,clearVotes:G,isHost:e,startSession:F,sessionStarted:L});return e?w&&!x?n:t:w&&x?t:n}),[b,L,a,S,w,R,G,x,F]);return a&&b.id?z("div",{id:"room-component",className:"".concat(n)},z(u.a,null,z(d.a,{title:"Scrum poker - Room"}),z("div",{className:"component-room__content"},z("h1",{className:"component-room__title"},b.name),W))):null}P.defaultProps={className:""}},HlVv:function(e,n,t){"use strict";var o=t("vOnD"),r=t("q1tI"),a=t.n(r).a.createElement,c=function(e){var n=e.onClick,t=e.className,o=e.children;return a("button",{className:"".concat(t),type:"button",onClick:n},o)};c.defaultProps={className:"",children:"click me",onClick:function(){},size:"md"};var i=c,s=t("rqZI"),l=t.n(s),u=Object(o.c)(i).withConfig({displayName:"styled-button-component",componentId:"sc-18fccyc-0"})(["display:flex;border:none;box-shadow:none;background:",";border-radius:4px;font-size:1rem;padding:12px 20px;cursor:pointer;color:",";width:100%;justify-content:center;transition:all 0.3s;box-shadow:0 0 0 0 rgba(0,0,0,0);&:hover,&:active{background:",";}"," "," ",""],l.a.primary,l.a.white,l.a.primaryLight,(function(e){return"lg"===e.size&&"\n    font-size: 1.3rem;\n    padding: 20px 24px;\n  "}),(function(e){return"sm"===e.size&&"\n    padding: 8px 16px;\n  "}),(function(e){return e.disabled&&"\n    cursor: default;\n    pointer-events: none;\n    background-color: ".concat(l.a.backgroundLight,";\n\n    &:focus {\n      box-shadow: none;\n    }\n  ")}));n.a=u},KLul:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return a}));var o=t("PgiJ"),r=function(e){return{type:o.a,room:e}},a=function(e){return{type:o.b,updates:e}}},ODXe:function(e,n,t){"use strict";function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=new Array(n);t<n;t++)o[t]=e[t];return o}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,r,a,c,i=[],s=!0,l=!1;try{if(a=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(o=a.call(t)).done)&&(i.push(o.value),i.length!==n);s=!0);}catch(u){l=!0,r=u}finally{try{if(!s&&null!=t.return&&(c=t.return(),Object(c)!==c))return}finally{if(l)throw r}}return i}}(e,n)||function(e,n){if(e){if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.d(n,"a",(function(){return r}))},hdOR:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/room.logic",function(){return t("Gmp/")}])}},[["hdOR",0,1,2,3,4,5]]]);